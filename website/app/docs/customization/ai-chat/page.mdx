---
title: "Ask AI"
description: "Add a RAG-powered AI chat to your documentation"
icon: "zap"
order: 5.5
---

# Ask AI

Add a built-in AI chat that lets users ask questions about your documentation. The AI searches relevant pages, builds context, and streams a response from any OpenAI-compatible LLM.

## Quick Start

```ts title="docs.config.ts"
ai: {
  enabled: true,
}
```

That's it. The AI reads your `OPENAI_API_KEY` environment variable and uses `gpt-4o-mini` by default.

<Tabs items={["Next.js", "SvelteKit", "Astro", "Nuxt"]}>
  <Tab value="Next.js">
    Add `OPENAI_API_KEY` to your `.env` file:

    ```bash title=".env"
    OPENAI_API_KEY=sk-...
    ```

    The key is automatically read from `process.env.OPENAI_API_KEY`.

  </Tab>
  <Tab value="SvelteKit">
    Add `OPENAI_API_KEY` to your `.env` file:

    ```bash title=".env"
    OPENAI_API_KEY=sk-...
    ```

    Pass it through `docs.server.ts` (SvelteKit requires server-only env access):

    ```ts title="src/lib/docs.server.ts"
    import { createDocsServer } from "@farming-labs/svelte/server";
    import { env } from "$env/dynamic/private";
    import config from "./docs.config";

    const contentFiles = import.meta.glob("/docs/**/*.{md,mdx,svx}", {
      query: "?raw",
      import: "default",
      eager: true,
    }) as Record<string, string>;

    export const { load, GET, POST } = createDocsServer({
      ...config,
      ai: { apiKey: env.OPENAI_API_KEY, ...config.ai },
      _preloadedContent: contentFiles,
    });
    ```

  </Tab>
  <Tab value="Astro">
    Add `OPENAI_API_KEY` to your `.env` file:

    ```bash title=".env"
    OPENAI_API_KEY=sk-...
    ```

    Pass it through `docs.server.ts`:

    ```ts title="src/lib/docs.server.ts"
    import { createDocsServer } from "@farming-labs/astro/server";
    import config from "./docs.config";

    const contentFiles = import.meta.glob("/docs/**/*.{md,mdx}", {
      query: "?raw",
      import: "default",
      eager: true,
    }) as Record<string, string>;

    export const { load, GET, POST } = createDocsServer({
      ...config,
      ai: { apiKey: import.meta.env.OPENAI_API_KEY, ...config.ai },
      _preloadedContent: contentFiles,
    });
    ```

  </Tab>
  <Tab value="Nuxt">
    Add `OPENAI_API_KEY` to your `.env` file:

    ```bash title=".env"
    OPENAI_API_KEY=sk-...
    ```

    Nuxt automatically reads environment variables via Nitro's runtime config. The `defineDocsHandler` reads `process.env.OPENAI_API_KEY` on the server.

    ```ts title="server/api/docs.ts"
    import { defineDocsHandler } from "@farming-labs/nuxt/server";
    import config from "../../docs.config";

    export default defineDocsHandler(config, useStorage);
    ```

  </Tab>
</Tabs>

## Configuration Reference

All options go inside the `ai` object in `docs.config.ts`:

```ts title="docs.config.ts"
export default defineDocs({
  ai: {
    // ... options
  },
});
```

### `enabled`

Whether to enable AI chat functionality.

| Type      | Default |
| --------- | ------- |
| `boolean` | `false` |

```ts
ai: {
  enabled: true,
}
```

### `mode`

How the AI chat UI is presented.

| Type                     | Default    |
| ------------------------ | ---------- |
| `"search" \| "floating"` | `"search"` |

- **`"search"`** â€” AI tab integrated into the `Cmd+K` search dialog. Users switch between "Search" and "AI" tabs.
- **`"floating"`** â€” A floating chat widget with a button on screen. Opens as a panel, modal, or full-screen overlay.

```ts
ai: {
  enabled: true,
  mode: "floating",
}
```

### `position`

Position of the floating chat button on screen. Only used when `mode` is `"floating"`.

| Type                                                 | Default          |
| ---------------------------------------------------- | ---------------- |
| `"bottom-right" \| "bottom-left" \| "bottom-center"` | `"bottom-right"` |

```ts
ai: {
  enabled: true,
  mode: "floating",
  position: "bottom-left",
}
```

### `floatingStyle`

Visual style of the floating chat when opened. Only used when `mode` is `"floating"`.

| Type                                              | Default   |
| ------------------------------------------------- | --------- |
| `"panel" \| "modal" \| "popover" \| "full-modal"` | `"panel"` |

- **`"panel"`** â€” A tall panel that slides up from the button position. No backdrop overlay.
- **`"modal"`** â€” A centered modal dialog with a backdrop overlay, similar to the `Cmd+K` search dialog.
- **`"popover"`** â€” A compact popover near the button. Suitable for quick questions.
- **`"full-modal"`** â€” A full-screen immersive overlay. Messages scroll in the center, input is pinned at the bottom, suggested questions appear as horizontal pills.

```ts
ai: {
  enabled: true,
  mode: "floating",
  floatingStyle: "full-modal",
}
```

### `model`

The LLM model to use for chat completions. Must be compatible with the OpenAI Chat Completions API.

| Type     | Default         |
| -------- | --------------- |
| `string` | `"gpt-4o-mini"` |

```ts
ai: {
  enabled: true,
  model: "gpt-4o",
}
```

Works with any OpenAI-compatible provider â€” use `baseUrl` to point to a different API.

### `baseUrl`

Base URL for an OpenAI-compatible API endpoint. Use this to point to a self-hosted model, Azure OpenAI, or any compatible provider.

| Type     | Default                       |
| -------- | ----------------------------- |
| `string` | `"https://api.openai.com/v1"` |

```ts
ai: {
  enabled: true,
  model: "llama-3.1-70b-versatile",
  baseUrl: "https://api.groq.com/openai/v1",
}
```

### `apiKey`

API key for the LLM provider. Falls back to `process.env.OPENAI_API_KEY` if not set.

| Type     | Default                      |
| -------- | ---------------------------- |
| `string` | `process.env.OPENAI_API_KEY` |

```ts
ai: {
  enabled: true,
  apiKey: process.env.GROQ_API_KEY,
}
```

> **Warning:** Never hardcode API keys. Always use environment variables.

### `systemPrompt`

Custom system prompt prepended to the AI conversation. Documentation context is automatically appended after this prompt.

| Type     | Default                                          |
| -------- | ------------------------------------------------ |
| `string` | `"You are a helpful documentation assistant..."` |

```ts
ai: {
  enabled: true,
  systemPrompt: "You are a friendly assistant for Acme Corp. Always mention our support email for complex issues.",
}
```

### `maxResults`

Maximum number of search results to include as context for the AI. More results = more context but higher token usage.

| Type     | Default |
| -------- | ------- |
| `number` | `5`     |

```ts
ai: {
  enabled: true,
  maxResults: 10,
}
```

### `suggestedQuestions`

Pre-filled suggested questions shown in the AI chat when the conversation is empty. Clicking one fills the input and submits automatically.

| Type       | Default |
| ---------- | ------- |
| `string[]` | `[]`    |

```ts
ai: {
  enabled: true,
  suggestedQuestions: [
    "How do I get started?",
    "What themes are available?",
    "How do I create a custom component?",
  ],
}
```

### `aiLabel`

Display name for the AI assistant in the chat UI. Shown as the message label and header title.

| Type     | Default |
| -------- | ------- |
| `string` | `"AI"`  |

```ts
ai: {
  enabled: true,
  aiLabel: "DocsBot",
}
```

### `packageName`

The npm package name used in code examples. The AI will use this in import snippets instead of generic placeholders.

| Type     | Default |
| -------- | ------- |
| `string` | â€”       |

```ts
ai: {
  enabled: true,
  packageName: "@farming-labs/docs",
}
```

### `docsUrl`

The public URL of your documentation site. The AI will use this for absolute links instead of relative paths.

| Type     | Default |
| -------- | ------- |
| `string` | â€”       |

```ts
ai: {
  enabled: true,
  docsUrl: "https://docs.farming-labs.dev",
}
```

### `loader`

Loading indicator variant shown while the AI generates a response.

| Type     | Default          |
| -------- | ---------------- |
| `string` | `"shimmer-dots"` |

Available variants: `"shimmer-dots"`, `"circular"`, `"dots"`, `"typing"`, `"wave"`, `"bars"`, `"pulse"`, `"pulse-dot"`, `"terminal"`, `"text-blink"`, `"text-shimmer"`, `"loading-dots"`.

```ts
ai: {
  enabled: true,
  loader: "wave",
}
```

### `loadingComponent`

Custom React component that completely overrides the built-in `loader` variant. Receives `{ name }` (the `aiLabel` value). Only works in Next.js â€” for other frameworks, use the `loader` option.

| Type                                       | Default |
| ------------------------------------------ | ------- |
| `(props: { name: string }) => ReactNode`   | â€”       |

```tsx
ai: {
  enabled: true,
  aiLabel: "Sage",
  loadingComponent: ({ name }) => (
    <div className="flex items-center gap-2 text-sm text-zinc-400">
      <span className="animate-pulse">ðŸ¤”</span>
      <span>{name} is thinking...</span>
    </div>
  ),
}
```

### `triggerComponent`

Custom trigger button for the floating chat. Replaces the default sparkles button. Only used when `mode` is `"floating"`. Each framework accepts its native component format â€” pass it as a prop on `DocsLayout` (or a slot in Astro).

| Type        | Default                  |
| ----------- | ------------------------ |
| `Component` | Built-in sparkles button |

<Tabs items={["Next.js", "SvelteKit", "Astro", "Nuxt"]}>
  <Tab value="Next.js">
    Pass a React component via `docs.config.tsx`:

    ```tsx title="docs.config.tsx"
    ai: {
      enabled: true,
      mode: "floating",
      triggerComponent: <button className="my-chat-btn">Ask AI</button>,
    }
    ```

  </Tab>
  <Tab value="SvelteKit">
    Import a Svelte component and pass it as a prop on `DocsLayout`:

    ```svelte title="src/routes/docs/+layout.svelte"
    <script>
      import { DocsLayout } from "@farming-labs/svelte-theme";
      import AskAITrigger from "$lib/components/AskAITrigger.svelte";
      import config from "../../lib/docs.config";
      let { data, children } = $props();
    </script>

    <DocsLayout tree={data.tree} {config} triggerComponent={AskAITrigger}>
      {@render children()}
    </DocsLayout>
    ```

  </Tab>
  <Tab value="Astro">
    Use the `trigger-component` slot on `DocsLayout`:

    ```astro title="src/pages/docs/[...slug].astro"
    ---
    import DocsLayout from "@farming-labs/astro-theme/src/components/DocsLayout.astro";
    import AskAITrigger from "../../components/AskAITrigger.astro";
    ---

    <DocsLayout tree={data.tree} config={config}>
      <AskAITrigger slot="trigger-component" />
      <DocsContent data={data} config={config} />
    </DocsLayout>
    ```

  </Tab>
  <Tab value="Nuxt">
    Import a Vue component and pass it as a prop on `DocsLayout`:

    ```vue title="pages/docs/[...slug].vue"
    <script setup lang="ts">
    import { DocsLayout, DocsContent } from "@farming-labs/nuxt-theme";
    import AskAITrigger from "~/components/AskAITrigger.vue";
    import config from "~/docs.config";

    const route = useRoute();
    const pathname = computed(() => route.path);
    const { data } = await useFetch("/api/docs", {
      query: { pathname }, watch: [pathname],
    });
    </script>

    <template>
      <DocsLayout :tree="data.tree" :config="config" :trigger-component="AskAITrigger">
        <DocsContent :data="data" :config="config" />
      </DocsLayout>
    </template>
    ```

  </Tab>
</Tabs>

## Full Example

```ts title="docs.config.ts"
export default defineDocs({
  ai: {
    enabled: true,
    mode: "floating",
    position: "bottom-right",
    floatingStyle: "full-modal",
    model: "gpt-4o-mini",
    aiLabel: "DocsBot",
    packageName: "@farming-labs/docs",
    docsUrl: "https://docs.farming-labs.dev",
    maxResults: 5,
    suggestedQuestions: [
      "How do I get started?",
      "What themes are available?",
      "How do I configure the sidebar?",
      "How do I set up AI chat?",
    ],
  },
});
```

## Using a Different LLM Provider

You can use any OpenAI-compatible API by setting `baseUrl` and `model`:

```ts title="docs.config.ts"
ai: {
  enabled: true,
  baseUrl: "https://api.groq.com/openai/v1",
  model: "llama-3.1-70b-versatile",
}
```

```bash title=".env"
OPENAI_API_KEY=gsk_...  # Groq uses the same env var name
```

Other compatible providers: OpenRouter, Together AI, Azure OpenAI, Ollama (local), any vLLM deployment.
