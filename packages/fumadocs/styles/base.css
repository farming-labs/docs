/* Shared base styles for all @farming-labs/fumadocs themes.
 *
 * Typography CSS custom properties:
 *   --fd-font-sans   — sans-serif font family
 *   --fd-font-mono   — monospace font family
 *   --fd-h1-size, --fd-h1-weight, --fd-h1-line-height, --fd-h1-letter-spacing
 *   --fd-h2-size, --fd-h2-weight, --fd-h2-line-height, --fd-h2-letter-spacing
 *   --fd-h3-size, --fd-h3-weight, --fd-h3-line-height, --fd-h3-letter-spacing
 *   --fd-h4-size, --fd-h4-weight, --fd-h4-line-height, --fd-h4-letter-spacing
 *   --fd-body-size, --fd-body-weight, --fd-body-line-height
 *   --fd-small-size, --fd-small-weight, --fd-small-line-height
 *
 * These are set by createDocsLayout() from the typography config.
 * Themes can also set defaults directly in CSS.
 */

/* ─── Font families ──────────────────────────────────────────────────── */

body {
  font-family: var(--fd-font-sans, var(--font-geist-sans, ui-sans-serif, system-ui, sans-serif));
}

code, kbd, pre, samp {
  font-family: var(--fd-font-mono, var(--font-geist-mono, ui-monospace, "Cascadia Code", "Source Code Pro", Menlo, Consolas, monospace));
}

/* ─── Prose heading typography ───────────────────────────────────────── */

.prose h1, article h1 {
  font-size: var(--fd-h1-size, 2.25rem);
  font-weight: var(--fd-h1-weight, 700);
  line-height: var(--fd-h1-line-height, 1.2);
  letter-spacing: var(--fd-h1-letter-spacing, -0.02em);
}

.prose h2, article h2 {
  font-size: var(--fd-h2-size, 1.5rem);
  font-weight: var(--fd-h2-weight, 600);
  line-height: var(--fd-h2-line-height, 1.3);
  letter-spacing: var(--fd-h2-letter-spacing, -0.01em);
}

.prose h3, article h3 {
  font-size: var(--fd-h3-size, 1.25rem);
  font-weight: var(--fd-h3-weight, 600);
  line-height: var(--fd-h3-line-height, 1.4);
  letter-spacing: var(--fd-h3-letter-spacing, normal);
}

.prose h4, article h4 {
  font-size: var(--fd-h4-size, 1.125rem);
  font-weight: var(--fd-h4-weight, 600);
  line-height: var(--fd-h4-line-height, 1.4);
  letter-spacing: var(--fd-h4-letter-spacing, normal);
}

/* ─── Body text ──────────────────────────────────────────────────────── */

.prose p, .prose li, .prose td, article p {
  font-size: var(--fd-body-size, 1rem);
  font-weight: var(--fd-body-weight, 400);
  line-height: var(--fd-body-line-height, 1.75);
}

/* ─── Small text (captions, metadata) ─────────────────────────────── */

.prose small, article small, .text-sm {
  font-size: var(--fd-small-size, 0.875rem);
  font-weight: var(--fd-small-weight, 400);
  line-height: var(--fd-small-line-height, 1.5);
}

/* ─── Code block base styles ─────────────────────────────────────────── */

figure.shiki pre {
  padding: 0.15rem 0.5rem;
}

figure.shiki pre > code {
  display: grid;
}

figure.shiki pre > code > [data-line] {
  padding: 0 0.25rem;
}

/* ─── Breadcrumb ─────────────────────────────────────────────────────── */

.fd-breadcrumb {
  display: flex;
  align-items: center;
  gap: 0;
  font-size: 0.8rem;
  color: var(--muted-foreground, hsl(240 5% 65%));
  margin-bottom: 0.5rem;
}

.fd-breadcrumb-item {
  display: inline-flex;
  align-items: center;
}

.fd-breadcrumb-sep {
  margin: 0 0.375rem;
  opacity: 0.4;
  font-size: 0.75rem;
}

.fd-breadcrumb-parent {
  opacity: 0.6;
  font-weight: 400;
}

.fd-breadcrumb-link {
  color: inherit;
  text-decoration: none;
  cursor: pointer;
  transition: opacity 0.15s, color 0.15s;
}

.fd-breadcrumb-link:hover {
  opacity: 1;
  color: var(--foreground, hsl(0 0% 98%));
}

.fd-breadcrumb-current {
  font-weight: 500;
  color: var(--foreground, hsl(0 0% 98%));
}

/* ─── Page Actions (Copy Markdown / Open in …) ────────────────────── */

[data-page-actions] {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.fd-page-action-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.75rem;
  font-size: 0.8125rem;
  font-weight: 500;
  line-height: 1;
  height: 2rem;
  color: var(--muted-foreground, hsl(240 5% 65%));
  background: var(--secondary, hsl(240 4% 16%));
  border: 1px solid var(--border, hsl(240 4% 20%));
  border-radius: var(--radius, 0.375rem);
  cursor: pointer;
  white-space: nowrap;
  transition: color 0.15s, background 0.15s, border-color 0.15s;
  user-select: none;
}

.fd-page-action-btn:hover {
  color: var(--accent-foreground, var(--foreground, hsl(0 0% 98%)));
  background: var(--accent, hsl(240 4% 20%));
  border-color: var(--foreground, hsl(0 0% 98%));
}

.fd-page-action-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.fd-page-action-btn[data-copied="true"] {
  color: var(--foreground, hsl(0 0% 98%));
}

.fd-page-action-btn svg {
  flex-shrink: 0;
  color: var(--muted-foreground, hsl(240 5% 65%));
}

/* ─── Open dropdown ─────────────────────────────────────────────────── */

.fd-page-action-dropdown {
  position: relative;
}

.fd-page-action-menu {
  position: absolute;
  top: calc(100% + 0.375rem);
  right: 0;
  z-index: 50;
  min-width: 220px;
  padding: 0.375rem;
  background: var(--card, var(--background, hsl(0 0% 4%)));
  border: 1px solid var(--border, hsl(240 4% 20%));
  border-radius: var(--radius, 0.375rem);
  box-shadow: 0 4px 24px hsl(0 0% 0% / 0.25);
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
  animation: fd-page-actions-fade-in 0.12s ease-out;
}

@keyframes fd-page-actions-fade-in {
  from { opacity: 0; transform: translateY(-4px); }
  to   { opacity: 1; transform: translateY(0); }
}

.fd-page-action-menu-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.5rem 0.625rem;
  font-size: 0.8125rem;
  font-weight: 400;
  color: var(--foreground, hsl(0 0% 98%));
  background: transparent;
  border: none;
  border-radius: calc(var(--radius, 0.375rem) - 2px);
  cursor: pointer;
  text-align: left;
  transition: background 0.1s;
}

.fd-page-action-menu-item:hover {
  background: var(--accent, hsl(240 4% 20%));
}

.fd-page-action-menu-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.25rem;
  height: 1.25rem;
  flex-shrink: 0;
}

.fd-page-action-menu-icon svg {
  width: 1rem;
  height: 1rem;
}

.fd-page-action-menu-label {
  flex: 1;
}
